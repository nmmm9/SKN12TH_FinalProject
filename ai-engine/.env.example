# DdalKkak AI Engine 환경 변수 설정

# ===========================================
# HuggingFace 설정 (화자 분리 모델용)
# ===========================================
# pyannote.audio 화자 분리 모델 사용을 위한 토큰
# https://huggingface.co/settings/tokens 에서 생성
HF_TOKEN=your_huggingface_token_here

# ===========================================
# GPU 및 하드웨어 설정
# ===========================================
# 사용할 GPU 디바이스 (0, 1, 2... 또는 cpu)
CUDA_VISIBLE_DEVICES=0

# GPU 메모리 최적화
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# ===========================================
# 서버 설정
# ===========================================
# 서버 호스트 (RunPod에서는 0.0.0.0)
HOST=0.0.0.0

# 서버 포트
PORT=8001

# 개발 모드 (True/False)
DEBUG=True

# 로그 레벨 (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# ===========================================
# WhisperX 모델 설정
# ===========================================
# 기본 모델 크기 (tiny, base, small, medium, large-v1, large-v2, large-v3)
WHISPER_MODEL_SIZE=large-v3

# 기본 언어
DEFAULT_LANGUAGE=ko

# 배치 크기 (GPU 메모리에 따라 조정)
WHISPER_BATCH_SIZE=16

# 청크 길이 (초)
WHISPER_CHUNK_LENGTH=30

# ===========================================
# 파일 처리 설정
# ===========================================
# 최대 파일 크기 (MB)
MAX_FILE_SIZE_MB=100

# 최대 오디오 길이 (초)
MAX_AUDIO_LENGTH_SECONDS=3600

# 임시 파일 디렉토리
TEMP_DIR=/tmp

# ===========================================
# 성능 설정
# ===========================================
# ThreadPoolExecutor 워커 수
MAX_WORKERS=2

# 동시 처리 가능한 요청 수
MAX_CONCURRENT_REQUESTS=5

# ===========================================
# 보안 설정
# ===========================================
# API 키 (추후 인증 구현 시 사용)
API_KEY=your_secret_api_key_here

# CORS 허용 오리진 (콤마로 구분)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8080

# ===========================================
# 모니터링 설정
# ===========================================
# 메트릭 수집 활성화
ENABLE_METRICS=True

# 성능 로깅 활성화
ENABLE_PERFORMANCE_LOGGING=True

# ===========================================
# RunPod 특화 설정
# ===========================================
# RunPod 작업 ID (자동 설정됨)
RUNPOD_JOB_ID=${RUNPOD_JOB_ID}

# RunPod 엔드포인트 ID
RUNPOD_ENDPOINT_ID=${RUNPOD_ENDPOINT_ID}

# 자동 종료 시간 (분, 유휴 상태에서)
AUTO_SHUTDOWN_MINUTES=60