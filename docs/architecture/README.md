# TtalKkak ì‹œìŠ¤í…œ ì•„í‚¤í…ì³ ë¬¸ì„œ

## ğŸ“‹ ëª©ì°¨
1. [ì‹œìŠ¤í…œ ê°œìš”](#ì‹œìŠ¤í…œ-ê°œìš”)
2. [ì•„í‚¤í…ì³ ë‹¤ì´ì–´ê·¸ë¨](#ì•„í‚¤í…ì³-ë‹¤ì´ì–´ê·¸ë¨)
3. [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
4. [ì£¼ìš” íŠ¹ì§•](#ì£¼ìš”-íŠ¹ì§•)
5. [ë³´ì•ˆ ê³ ë ¤ì‚¬í•­](#ë³´ì•ˆ-ê³ ë ¤ì‚¬í•­)
6. [ì„±ëŠ¥ ë° í™•ì¥ì„±](#ì„±ëŠ¥-ë°-í™•ì¥ì„±)
7. [ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…](#ëª¨ë‹ˆí„°ë§-ë°-ë¡œê¹…)

---

## ğŸ¯ ì‹œìŠ¤í…œ ê°œìš”

### í”„ë¡œì íŠ¸ ì†Œê°œ
**TtalKkak**ì€ ìŒì„± ì…ë ¥ì„ í†µí•´ ìë™ìœ¼ë¡œ ê¸°íšì•ˆì„ êµ¬ì¡°í™”í•˜ê³ , AI Agent ê¸°ë°˜ìœ¼ë¡œ ì²´ê³„ì ì¸ ì—…ë¬´ ë¶„ë‹´ ë° íŒ€ì› ë°°ì •ì„ ìˆ˜í–‰í•˜ëŠ” í†µí•© ì›Œí¬í”Œë¡œìš° ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### í•µì‹¬ ê°€ì¹˜ ì œì•ˆ
- ğŸ™ï¸ **ìŒì„± ê¸°ë°˜ ì…ë ¥**: íšŒì˜ ì¤‘ ì‹¤ì‹œê°„ ìŒì„± ì…ë ¥ìœ¼ë¡œ ë¹ ë¥¸ ì—…ë¬´ ìƒì„±
- ğŸ¤– **AI ê¸°ë°˜ ìë™í™”**: 2ë‹¨ê³„ AI íŒŒì´í”„ë¼ì¸ìœ¼ë¡œ ìŒì„± â†’ ê¸°íšì•ˆ â†’ ì—…ë¬´ ìë™ ìƒì„±
- ğŸ¯ **ìŠ¤ë§ˆíŠ¸ ì—…ë¬´ ë°°ì •**: ìŠ¤í‚¬ ë§¤ì¹­ ë° ì›Œí¬ë¡œë“œ ë¶„ì„ì„ í†µí•œ ìµœì  ë°°ì •
- ğŸ”„ **ì™„ì „ ìë™í™”**: Slack â†’ Notion â†’ JIRA ì „ì²´ ì›Œí¬í”Œë¡œìš° ìë™í™”
- ğŸ¢ **ë©€í‹°í…Œë„ŒíŠ¸**: ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ë¡œ ì—¬ëŸ¬ ì¡°ì§ ì§€ì›

### ì£¼ìš” ì›Œí¬í”Œë¡œìš°
```
ìŒì„± ì…ë ¥ â†’ AI ì²˜ë¦¬ â†’ ê¸°íšì•ˆ ìƒì„± â†’ ì—…ë¬´ ë¶„í•´ â†’ ìŠ¤ë§ˆíŠ¸ ë°°ì • â†’ ì™¸ë¶€ ì—°ë™
```

---

## ğŸ“Š ì•„í‚¤í…ì³ ë‹¤ì´ì–´ê·¸ë¨

### 1. [ì»¨í…ìŠ¤íŠ¸ ë‹¤ì´ì–´ê·¸ë¨](01-context-diagram.md)
ì‹œìŠ¤í…œê³¼ ì™¸ë¶€ ì‚¬ìš©ì/ì‹œìŠ¤í…œ ê°„ì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ìµœìƒìœ„ ë·°

**ì£¼ìš” êµ¬ì„± ìš”ì†Œ:**
- ì‚¬ìš©ì: í”„ë¡œì íŠ¸ ë§¤ë‹ˆì €, ê°œë°œì, íŒ€ ë©¤ë²„
- í•µì‹¬ ì‹œìŠ¤í…œ: TtalKkak AI í”„ë¡œì íŠ¸ ê´€ë¦¬ ì‹œìŠ¤í…œ
- ì™¸ë¶€ ì‹œìŠ¤í…œ: Slack, Notion, JIRA, AI ì„œë²„

### 2. [ë°ì´í„° í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨](02-dataflow-diagram.md)
í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ í”„ë¡œì„¸ìŠ¤ì˜ ë°ì´í„° íë¦„ì„ ìƒì„¸íˆ ë³´ì—¬ì£¼ëŠ” ë·°

**ì£¼ìš” í”„ë¡œì„¸ìŠ¤:**
- ìŒì„± ì…ë ¥ ë° ì „ì²˜ë¦¬
- 2ë‹¨ê³„ AI ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- ìŠ¤ë§ˆíŠ¸ ì—…ë¬´ ë°°ì • ì•Œê³ ë¦¬ì¦˜
- ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™

### 3. [ì»¨í…Œì´ë„ˆ ë‹¤ì´ì–´ê·¸ë¨](03-container-diagram.md)
ì£¼ìš” ì• í”Œë¦¬ì¼€ì´ì…˜, ì„œë¹„ìŠ¤, ë°ì´í„°ë² ì´ìŠ¤ ê°„ì˜ ê´€ê³„ë¥¼ ë³´ì—¬ì£¼ëŠ” ë·°

**ì£¼ìš” ì»¨í…Œì´ë„ˆ:**
- í´ë¼ì´ì–¸íŠ¸: ì›¹ ëŒ€ì‹œë³´ë“œ, Slack í´ë¼ì´ì–¸íŠ¸, Chrome í™•ì¥
- ë°±ì—”ë“œ: Node.js API, Slack í•¸ë“¤ëŸ¬, AI ì»¤ë„¥í„°
- ë°ì´í„°: PostgreSQL, Redis, íŒŒì¼ ì €ì¥ì†Œ
- ì™¸ë¶€: AI ì„œë²„, ì™¸ë¶€ APIë“¤

### 4. [ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨](04-component-diagram.md)
ë°±ì—”ë“œ ì‹œìŠ¤í…œ ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ì˜ ìƒì„¸ êµ¬ì¡°ë¥¼ ë³´ì—¬ì£¼ëŠ” ë·°

**ì£¼ìš” ë ˆì´ì–´:**
- API ë ˆì´ì–´: Express, ë¯¸ë“¤ì›¨ì–´, ë¼ìš°í„°
- ì»¨íŠ¸ë¡¤ëŸ¬: ì¸ì¦, í”„ë¡œì íŠ¸, ì—…ë¬´, Slack
- ì„œë¹„ìŠ¤: AI, Notion, JIRA, ì—…ë¬´ ë°°ì •
- ìœ í‹¸ë¦¬í‹°: ì•”í˜¸í™”, íŒŒì¼, ê²€ì¦, ë¡œê¹…

---

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ (Node.js)
```javascript
{
  "runtime": "Node.js 18+",
  "framework": "Express.js",
  "language": "TypeScript",
  "database": "PostgreSQL + Prisma ORM",
  "cache": "Redis",
  "auth": "JWT + OAuth 2.0",
  "realtime": "Socket.IO",
  "upload": "Multer (100MB limit)",
  "security": "Helmet, CORS, Rate Limiting"
}
```

### AI ì—”ì§„ (Python)
```python
{
  "language": "Python 3.9+",
  "framework": "FastAPI",
  "stt": "WhisperX (large-v3)",
  "llm": "Qwen3-32B-AWQ",
  "gpu": "CUDA Support",
  "deployment": "Runpod Cloud"
}
```

### í”„ë¡ íŠ¸ì—”ë“œ (React)
```javascript
{
  "framework": "React 18 + TypeScript",
  "styling": "Tailwind CSS",
  "state": "React Query",
  "build": "Vite",
  "notifications": "Sonner"
}
```

### ì™¸ë¶€ ì—°ë™
```javascript
{
  "slack": "@slack/bolt",
  "notion": "@notionhq/client",
  "jira": "Atlassian REST API",
  "deployment": "Docker Compose"
}
```

---

## â­ ì£¼ìš” íŠ¹ì§•

### 1. ë©€í‹°í…Œë„ŒíŠ¸ ì•„í‚¤í…ì³
```typescript
// í…Œë„ŒíŠ¸ë³„ ë°ì´í„° ê²©ë¦¬
interface TenantContext {
  tenantId: string;
  slug: string;
  name: string;
  settings: TenantSettings;
}

// ë¯¸ë“¤ì›¨ì–´ë¥¼ í†µí•œ ìë™ í…Œë„ŒíŠ¸ ë¶„ë¦¬
app.use('/api/:tenantSlug', tenantMiddleware);
```

### 2. 2ë‹¨ê³„ AI íŒŒì´í”„ë¼ì¸
```mermaid
graph LR
    A[ìŒì„± ì…ë ¥] --> B[Stage 1: ìŒì„±â†’ê¸°íšì•ˆ]
    B --> C[Stage 2: ê¸°íšì•ˆâ†’ì—…ë¬´]
    C --> D[ì™¸ë¶€ ì—°ë™]
```

**Stage 1**: ìŒì„± ì „ì‚¬ + ê¸°íšì•ˆ ìƒì„±
- WhisperXë¡œ ìŒì„± â†’ í…ìŠ¤íŠ¸
- Qwen3-32Bë¡œ êµ¬ì¡°í™”ëœ ê¸°íšì•ˆ ìƒì„±

**Stage 2**: ê¸°íšì•ˆ â†’ ì—…ë¬´ ë¶„í•´
- PRD (Product Requirements Document) ìƒì„±
- Epic/Task ê³„ì¸µ êµ¬ì¡° ìƒì„±
- ìŠ¤í‚¬ ìš”êµ¬ì‚¬í•­ ë° ì˜ˆìƒ ì‹œê°„ ê³„ì‚°

### 3. ìŠ¤ë§ˆíŠ¸ ì—…ë¬´ ë°°ì • ì•Œê³ ë¦¬ì¦˜
```typescript
interface AssignmentScore {
  skillScore: number;    // 40% ê°€ì¤‘ì¹˜
  workloadScore: number; // 30% ê°€ì¤‘ì¹˜
  experienceScore: number; // 20% ê°€ì¤‘ì¹˜
  priorityScore: number; // 10% ê°€ì¤‘ì¹˜
}

const totalScore = (skillScore * 0.4) + 
                  (workloadScore * 0.3) + 
                  (experienceScore * 0.2) + 
                  (priorityScore * 0.1);
```

### 4. ì‹¤ì‹œê°„ ì›Œí¬í”Œë¡œìš°
```typescript
// Socket.IOë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸
io.emit('workflow:progress', {
  stage: 'ai_processing',
  progress: 75,
  message: 'AI ë¶„ì„ ì¤‘...'
});
```

---

## ğŸ” ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. ì¸ì¦ ë° ì¸ê°€
```typescript
// OAuth 2.0 ì™¸ë¶€ ì„œë¹„ìŠ¤ ì—°ë™
const authConfig = {
  slack: { clientId, clientSecret, scopes: ['bot'] },
  notion: { clientId, clientSecret, scopes: ['read', 'write'] },
  jira: { clientId, clientSecret, scopes: ['read:jira-work', 'write:jira-work'] }
};

// JWT í† í° ê¸°ë°˜ ë‚´ë¶€ ì¸ì¦
const token = jwt.sign({ userId, tenantId }, secret, { expiresIn: '1h' });
```

### 2. ë°ì´í„° ë³´í˜¸
```typescript
// ë¯¼ê°í•œ ë°ì´í„° ì•”í˜¸í™”
const encrypt = (text: string): string => {
  return crypto.createCipher('aes-256-cbc', secret).update(text, 'utf8', 'hex');
};

// ë©€í‹°í…Œë„ŒíŠ¸ ë°ì´í„° ê²©ë¦¬
@Injectable()
export class TenantGuard implements CanActivate {
  canActivate(context: ExecutionContext): boolean {
    const tenantId = context.switchToHttp().getRequest().tenantId;
    return this.validateTenantAccess(tenantId);
  }
}
```

### 3. ì…ë ¥ ê²€ì¦
```typescript
// íŒŒì¼ ì—…ë¡œë“œ ë³´ì•ˆ
const uploadConfig = multer({
  limits: { fileSize: 100 * 1024 * 1024 }, // 100MB
  fileFilter: (req, file, cb) => {
    const allowedTypes = ['audio/wav', 'audio/mp3', 'audio/m4a'];
    cb(null, allowedTypes.includes(file.mimetype));
  }
});
```

---

## ğŸ“ˆ ì„±ëŠ¥ ë° í™•ì¥ì„±

### 1. ìˆ˜í‰ í™•ì¥ ì „ëµ
```yaml
# Docker Compose ìŠ¤ì¼€ì¼ë§
version: '3.8'
services:
  backend:
    image: ttalkkak-backend
    deploy:
      replicas: 3
      resources:
        limits:
          cpus: '2'
          memory: 4G
```

### 2. ìºì‹± ì „ëµ
```typescript
// Redis ìºì‹±ìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™”
@Injectable()
export class CacheService {
  async get(key: string): Promise<any> {
    return await this.redis.get(key);
  }
  
  async set(key: string, value: any, ttl: number = 3600): Promise<void> {
    await this.redis.setex(key, ttl, JSON.stringify(value));
  }
}
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
```sql
-- ì¸ë±ìŠ¤ ìµœì í™”
CREATE INDEX idx_tasks_tenant_status ON tasks (tenant_id, status);
CREATE INDEX idx_users_tenant_slack ON users (tenant_id, slack_user_id);
CREATE INDEX idx_integrations_tenant_service ON integrations (tenant_id, service_type);
```

### 4. ë¹„ë™ê¸° ì²˜ë¦¬
```typescript
// ì™¸ë¶€ API í˜¸ì¶œ ë³‘ë ¬ ì²˜ë¦¬
const [notionResult, jiraResult] = await Promise.allSettled([
  this.notionService.createPage(projectData),
  this.jiraService.createIssues(taskData)
]);
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 1. êµ¬ì¡°í™”ëœ ë¡œê¹…
```typescript
// Winston ë¡œê¹… ì„¤ì •
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.errors({ stack: true }),
    winston.format.json()
  ),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});
```

### 2. í—¬ìŠ¤ ì²´í¬
```typescript
// ì„œë¹„ìŠ¤ ìƒíƒœ ëª¨ë‹ˆí„°ë§
@Get('/health')
async healthCheck(): Promise<HealthStatus> {
  return {
    status: 'healthy',
    timestamp: new Date().toISOString(),
    services: {
      database: await this.checkDatabase(),
      redis: await this.checkRedis(),
      aiServer: await this.checkAiServer(),
      externalApis: await this.checkExternalApis()
    }
  };
}
```

### 3. ì„±ëŠ¥ ë©”íŠ¸ë¦­
```typescript
// ì‘ë‹µ ì‹œê°„ ë° ì²˜ë¦¬ëŸ‰ ì¸¡ì •
@Injectable()
export class MetricsService {
  private readonly metrics = new Map<string, number>();
  
  recordApiCall(endpoint: string, duration: number): void {
    this.metrics.set(`api_${endpoint}_duration`, duration);
    this.metrics.set(`api_${endpoint}_count`, 
      (this.metrics.get(`api_${endpoint}_count`) || 0) + 1);
  }
}
```

---

## ğŸš€ ë°°í¬ ë° ìš´ì˜

### 1. ì»¨í…Œì´ë„ˆ ë°°í¬
```dockerfile
# Dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3500
CMD ["npm", "start"]
```

### 2. í™˜ê²½ ì„¤ì •
```bash
# .env íŒŒì¼ êµ¬ì„±
NODE_ENV=production
PORT=3500
DATABASE_URL=postgresql://user:pass@localhost:5432/ttalkkak
REDIS_URL=redis://localhost:6379
AI_SERVER_URL=https://ai.ttalkkak.com
SLACK_BOT_TOKEN=xoxb-...
NOTION_CLIENT_ID=...
JIRA_CLIENT_ID=...
```

### 3. CI/CD íŒŒì´í”„ë¼ì¸
```yaml
# GitHub Actions
name: Deploy
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Build and Deploy
        run: |
          docker build -t ttalkkak-backend .
          docker push registry/ttalkkak-backend:latest
          kubectl apply -f k8s/
```

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ì•„í‚¤í…ì³ ë¬¸ì„œ
- [ì»¨í…ìŠ¤íŠ¸ ë‹¤ì´ì–´ê·¸ë¨](01-context-diagram.md)
- [ë°ì´í„° í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨](02-dataflow-diagram.md)
- [ì»¨í…Œì´ë„ˆ ë‹¤ì´ì–´ê·¸ë¨](03-container-diagram.md)
- [ì»´í¬ë„ŒíŠ¸ ë‹¤ì´ì–´ê·¸ë¨](04-component-diagram.md)

### API ë¬¸ì„œ
- [REST API ëª…ì„¸](../api/README.md)
- [Slack Bot ê°€ì´ë“œ](../slack/README.md)
- [AI ì„œë²„ ì—°ë™](../ai/README.md)

### ê°œë°œ ê°€ì´ë“œ
- [í”„ë¡œì íŠ¸ ì„¤ì •](../development/setup.md)
- [í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ](../development/testing.md)
- [ë°°í¬ ê°€ì´ë“œ](../development/deployment.md)

---

**ğŸ“… ë¬¸ì„œ ì—…ë°ì´íŠ¸**: 2024ë…„ 11ì›” ê¸°ì¤€  
**ğŸ‘¥ ê´€ë¦¬ì**: TtalKkak ê°œë°œíŒ€  
**ğŸ”„ ë²„ì „**: v1.0.0